<!DOCTYPE html>
<html lang="en" xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<head>
    <meta charset="UTF-8">
    <meta name="_csrf" th:content="${_csrf.token}"/>
    <meta name="_csrf_header" th:content="${_csrf.headerName}"/>
    <title>Forum Demo</title>

    <link rel="stylesheet" th:href="@{/css/styles.css}">
</head>
<body>
    <h1>Homepage</h1>

    <div sec:authorize="isAuthenticated()" id="logged-in">
        Welcome, <span sec:authentication="name"></span>
    </div>

    <div sec:authorize="isAnonymous()" id="login-suggestion">
        Please login with your account.

        <a th:href="@{/login}">Login</a>
    </div>

    <div>
        <button id="new-thread-button" onclick="openNewThreadForm()">New Thread</button>
    </div>

    <div id="new-thread-form">
        <form>
            <label for="title-input">Title</label> <br>
            <input type="text" id="title-input" name="title"> <br>
            <label for="content-input">Post</label> <br>
            <textarea id="content-input" name="content"></textarea> <br>

            <button type="button" onclick="createForumThread()">Submit</button>
        </form>
    </div>

    <table id="thread-table">
        <tr>
            <td>Thread</td>
            <td>Author</td>
        </tr>
    </table>

    <script th:src="@{/js/script.js}"></script>
</body>
</html>